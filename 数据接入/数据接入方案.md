
数据接入
=======================

## 数据上报格式

1.数据分为head和data两部分，head和data以ascii码`\002`分割；  

2.head信息包括两部分内容，字段类型+字段名称，字段类型与字段名称以`|`分割，多个组合以`,`分割；  

    * `i`代表int；  
    * `s`代表string；  
    * `l`代表long；  
    * `d`代表date；  
    * `f`代表float；  

3.data信息以ascii码`001`分割，多条数据之间以ascii码`002`分割；   

4.数据接入时，需要做数据内容清理，不允许包含ascii码`\001`和`\002`。  

一条接入数据的例子：  
s|name,i|age,d|birth`\002`myName`\001`25`\001`672508800000`\002`yourName`\001`24`\001`694926294000  
此处的例子，使用了`date`类型，注意为了便于数据统一处理，时间类型统一转换为unix的毫秒数。

5.为了区分事实表和维度表数据需要分别发到网关的不同接口，事实表还是沿用/post，维度表使用/postdim，验证参数与格式跟原制定方案一样

6.hbase维表写入格式说明
example: http://host:post/postdim?locate=sugo&dim=a,b,c&table=one
。URL参数有要求必须填，不填直接过滤

